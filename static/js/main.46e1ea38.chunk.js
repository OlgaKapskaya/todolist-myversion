/*! For license information please see main.46e1ea38.chunk.js.LICENSE.txt */
(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(23),c=n.n(i),l=(n(93),n(9)),u=n(1),s=n(119),d=n(116),f=n(76),m=n(120),p=n(43),h=p.b,E=p.c,v=n(53),b=n(46),g=n.n(b),y=n(13),O=n(114).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"a3689f8d-4bdb-4cdd-9a1a-83733437adfc"}});!function(e){e[e.OK=0]="OK",e[e.Error=1]="Error",e[e.Captcha=10]="Captcha"}(a||(a={}));var T=function(e){return O.post("/auth/login",e)},j=function(){return O.get("auth/me")},w=function(){return O.delete("/auth/login")},L={status:"idle",error:null,isInitialized:!1},S=function(e){return{type:"APP/SET-ERROR",error:e}},k=function(e){return{type:"APP/SET-STATUS",status:e}},I=function(e){return{type:"APP/SET-INITIALIZED",isInitialized:e}},_=function(e,t){e.messages.length?t(S(e.messages[0])):t(S("Some error occurred")),t(k("failed"))},C=function(e,t){t(S(e.message?e.message:"Some error occurred")),t(k("failed"))};function D(){D=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),i=new j(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var c=y(i,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=u(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var s={};function d(){}function f(){}function m(){}var p={};c(p,r,(function(){return this}));var h=Object.getPrototypeOf,E=h&&h(h(w([])));E&&E!==t&&n.call(E,r)&&(p=E);var v=m.prototype=d.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,s;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m,c(v,"constructor",m),c(m,"constructor",f),f.displayName=c(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,o,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new g(l(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,i,"Generator"),c(v,r,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=w,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var x,A,N={isLoggedIn:!1},P=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},G=function(){var e,t,n,r,i=h(),c=Object(l.m)();E((function(e){return e.auth.isLoggedIn}))&&c("/");var p=Object(v.a)({defaultValues:{email:"",password:"",rememberMe:!1}}),b=p.register,O=p.handleSubmit,j=p.formState.errors;return o.a.createElement(s.a,{gap:3,className:"col-md-3 mx-auto"},o.a.createElement(d.a,{onSubmit:O((function(e){var t;i((t=Object(u.a)({},e),function(){var e=Object(y.a)(D().mark((function e(n){var r;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(k("loading")),e.prev=1,e.next=4,T(t);case 4:(r=e.sent).data.resultCode===a.OK?(n(P(!0)),n(k("succeeded"))):_(r.data,n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),C(e.t0,n);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}))},o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,o.a.createElement("p",null,"To log in get registered",o.a.createElement("a",{href:"https://social-network.samuraijs.com/",target:"_blank"}," here")),o.a.createElement("p",null,"or use common test account credentials:"),o.a.createElement("p",null,"Email: free@samuraijs.com"),o.a.createElement("p",null,"Password: free")),o.a.createElement("hr",null),o.a.createElement(f.a,{controlId:"floatingInput",label:"Enter email",className:"mb-3"},o.a.createElement(d.a.Control,Object.assign({type:"email",placeholder:"Enter email"},b("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i})))),"required"===(null===(e=j.email)||void 0===e?void 0:e.type)&&o.a.createElement("p",{className:g.a.error_message,role:"alert"},"Email is required"),"pattern"===(null===(t=j.email)||void 0===t?void 0:t.type)&&o.a.createElement("p",{className:g.a.error_message,role:"alert"},"Email is not valid")),o.a.createElement(d.a.Group,{className:"mb-3",controlId:"formBasicPassword"},o.a.createElement(f.a,{controlId:"floatingInput",label:"Enter password",className:"mb-3"},o.a.createElement(d.a.Control,Object.assign({type:"password",placeholder:"Password"},b("password",{required:!0,minLength:3})))),"required"===(null===(n=j.password)||void 0===n?void 0:n.type)&&o.a.createElement("p",{className:g.a.error_message,role:"alert"},"Password is required"),"minLength"===(null===(r=j.password)||void 0===r?void 0:r.type)&&o.a.createElement("p",{className:g.a.error_message,role:"alert"},"Password should be more 3 symbols")),o.a.createElement(d.a.Group,{className:"mb-3",controlId:"formBasicCheckbox"},o.a.createElement(d.a.Check,Object.assign({type:"checkbox",label:"Remember me"},b("rememberMe")))),o.a.createElement(m.a,{variant:"primary",type:"submit"},"Submit")))};!function(e){e[e.New=0]="New",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Draft=3]="Draft"}(x||(x={})),function(e){e[e.Low=0]="Low",e[e.Middle=1]="Middle",e[e.Hi=2]="Hi",e[e.Urgently=3]="Urgently",e[e.Later=4]="Later"}(A||(A={}));var B=n(118),F=n(59),R=n(110),M=n(64),H=n.n(M),K=n(8),z=Object(r.memo)((function(e){var t=e.title,n=e.onChangeText,a=Object(r.useState)(!1),i=Object(K.a)(a,2),c=i[0],l=i[1],u=Object(r.useState)(""),s=Object(K.a)(u,2),f=s[0],m=s[1],p=function(){l(!1),h()},h=function(){""!==f&&(n(f),l(!1))};return o.a.createElement(o.a.Fragment,null,c?o.a.createElement(d.a.Control,{type:"text",size:"sm",as:"input",style:{width:"100%"},value:f,onChange:function(e){m(e.currentTarget.value)},onBlur:p,onKeyPress:function(e){"Enter"===e.key&&(h(),p())},autoFocus:!0}):o.a.createElement("span",{onDoubleClick:function(){m(t),l(!0)}}," ",t," "))})),U=n(77),Y=n.n(U),q=n(82),V=n(117),Z=n(11),J=n(10),W=function(){return O.get("todo-lists")},$=function(e){return O.post("todo-lists",{title:e})},Q=function(e){return O.delete("todo-lists/".concat(e))},X=function(e,t){return O.put("todo-lists/".concat(e),{title:t})},ee=function(e){return O.get("todo-lists/".concat(e,"/tasks"))},te=function(e,t){return O.post("todo-lists/".concat(e,"/tasks"),{title:t})},ne=function(e,t){return O.delete("/todo-lists/".concat(e,"/tasks/").concat(t))},ae=function(e,t,n){return O.put("/todo-lists/".concat(e,"/tasks/").concat(t),n)},re={},oe=function(e,t,n){return function(a,r){var o=r().tasks[e].find((function(e){return e.id===t}));if(o){var i=Object(u.a)({title:o.title,description:o.description,status:o.status,priority:o.priority,startDate:o.startDate,deadline:o.deadline},n);ae(e,t,i).then((function(e){0===e.data.resultCode&&a(function(e){return{type:"UPDATE_TASK",task:e}}(e.data.data.item))}))}else console.warn("Task not found in the state!!!")}},ie=function(e){var t=e.task,n=e.show,a=e.onClose,r=h(),i=Object(v.a)({defaultValues:{description:t.description,status:t.status,priority:t.priority,startDate:t.startDate,deadline:t.deadline}}),c=i.register,l=i.handleSubmit;i.control;return o.a.createElement(V.a,{show:n,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(d.a,{onSubmit:l((function(e){r(oe(t.todoListId,t.id,Object(u.a)({},e))),a()}))},o.a.createElement(V.a.Header,null,o.a.createElement(V.a.Title,{id:"contained-modal-title-vcenter"},"Editing task ",t.title)),o.a.createElement(V.a.Body,null,o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Description"),o.a.createElement(d.a.Control,Object.assign({placeholder:"Enter description"},c("description")))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Status"),o.a.createElement(d.a.Select,c("status"),o.a.createElement("option",{value:x.New},"New"),o.a.createElement("option",{value:x.InProgress},"In progress"),o.a.createElement("option",{value:x.Completed},"Completed"),o.a.createElement("option",{value:x.Draft},"Draft"))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Priority"),o.a.createElement(d.a.Select,c("priority"),o.a.createElement("option",{value:A.Low},"Low"),o.a.createElement("option",{value:A.Middle},"Middle"),o.a.createElement("option",{value:A.Hi},"Hi"),o.a.createElement("option",{value:A.Later},"Later"),o.a.createElement("option",{value:A.Urgently},"Urgently"))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Start date"),o.a.createElement(d.a.Control,Object.assign({type:"date"},c("startDate")))),o.a.createElement(d.a.Group,null,o.a.createElement(d.a.Label,null,"Deadline"),o.a.createElement(d.a.Control,Object.assign({type:"date"},c("deadline"))))),o.a.createElement(V.a.Footer,null,o.a.createElement(m.a,{variant:"primary",type:"submit"},"Submit"),o.a.createElement(m.a,{variant:"secondary",onClick:a},"Cancel"))))},ce=function(e){var t=h(),n=Object(r.useMemo)((function(){switch(e.status){case x.Completed:return"#e8f5e9";case x.New:return"#e3f2fd";case x.InProgress:return"#fff8e1";case x.Draft:return"#ffebee";default:return"#eceff1"}}),[e]),a=Object(r.useMemo)((function(){switch(e.status){case x.Completed:return"success";case x.New:return"primary";case x.InProgress:return"warning";case x.Draft:return"danger";default:return"secondary"}}),[e]);return{deleteTask:function(){var n,a;t((n=e.todoListId,a=e.id,function(e){ne(n,a).then((function(t){0===t.data.resultCode&&e(function(e,t){return{type:"REMOVE_TASK",taskID:e,todolistID:t}}(a,n))}))}))},updateTaskTitle:function(n){t(oe(e.todoListId,e.id,{title:n}))},statusColor:n,taskStatusText:Object(r.useMemo)((function(){switch(e.status){case x.Completed:return"completed";case x.New:return"new";case x.InProgress:return"...in progress";case x.Draft:return"draft";default:return""}}),[e]),statusBadgeColor:a}},le=function(e){var t=e.task,n=function(){var e=Object(r.useState)(!1),t=Object(K.a)(e,2),n=t[0],a=t[1];return{show:n,onClose:Object(r.useCallback)((function(){return a(!1)}),[]),onOpen:function(){return a(!0)}}}(),a=n.show,i=n.onClose,c=n.onOpen,l=ce(t),u=l.deleteTask,s=l.updateTaskTitle,d=l.statusColor,f=l.taskStatusText,m=l.statusBadgeColor;return o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{style:{margin:"5px 0",background:d}},o.a.createElement(B.a.Body,null,o.a.createElement("div",{style:{justifyContent:"flex-end",display:"flex"}},o.a.createElement(R.a,{bg:m},f)),o.a.createElement(B.a.Title,null,o.a.createElement(z,{title:t.title,onChangeText:s})),o.a.createElement(B.a.Subtitle,{className:"mb-2 text-muted"},o.a.createElement("span",{className:H.a.addedDate},"Created:",Y()(t.addedDate).format("DD MMMM YYYY HH:mm:ss"))),o.a.createElement(B.a.Text,null,"Description: ",t.description?t.description:"none"),o.a.createElement(F.RiDeleteBin6Line,{onClick:u,className:H.a.deleteButton}),o.a.createElement(q.RiEditLine,{className:H.a.deleteButton,onClick:c}))),o.a.createElement(ie,{task:t,show:a,onClose:i}))},ue=n(65),se=n.n(ue),de=[],fe=function(){return function(e){e(k("loading")),W().then((function(t){e({type:"SET_TODOLISTS",todolists:t.data}),e(k("succeeded"))})).catch((function(t){C(t,e)}))}},me=Object(r.memo)((function(e){var t=e.label,n=e.withButton,a=e.addItem,i=Object(r.useState)(""),c=Object(K.a)(i,2),l=c[0],u=c[1],s=Object(r.useState)(""),f=Object(K.a)(s,2),p=f[0],h=f[1],E=function(){""!==l.trim()?(a(l.trim()),u("")):h("Incorrect value")};return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a.Control,{type:"text",size:"sm",as:"input",value:l,placeholder:t,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){return h("")},onKeyPress:function(e){h(""),"Enter"===e.key&&(E(),u(""))}}),p&&o.a.createElement(d.a.Text,{muted:!0},p),n&&o.a.createElement(m.a,{variant:"primary",size:"sm",onClick:E},"Add"))})),pe=Object(r.memo)((function(e){var t=e.todolist,n=e.changeTodolistFilter,a=h();Object(r.useEffect)((function(){var e;a((e=t.id,function(t){ee(e).then((function(n){t(function(e,t){return{type:"SET_TASKS",todolistID:e,tasks:t}}(e,n.data.items))}))}))}),[t.id,a]);var i=E((function(e){return e.tasks[t.id]}));"active"===t.filter&&(i=i.filter((function(e){return e.status===x.New}))),"completed"===t.filter&&(i=i.filter((function(e){return e.status===x.Completed})));var c=Object(r.useCallback)((function(e){a(function(e,t){return function(n){X(e,t).then((function(a){n(function(e,t){return{type:"CHANGE_TODOLIST_TITLE",id:e,title:t}}(e,t))}))}}(t.id,e))}),[a,t.id]),l=Object(r.useCallback)((function(e){a(function(e,t){return function(n){te(e,t).then((function(e){n({type:"ADD_TASK",task:e.data.data.item})}))}}(t.id,e))}),[a,t.id]),u=Object(r.useCallback)((function(){return n(t.id,"all")}),[t.id,n]),s=Object(r.useCallback)((function(){return n(t.id,"active")}),[t.id,n]),d=Object(r.useCallback)((function(){return n(t.id,"completed")}),[t.id,n]);return o.a.createElement("div",{className:se.a.container},o.a.createElement(B.a,{style:{width:"100%"}},o.a.createElement(B.a.Header,{style:{textAlign:"right"}},o.a.createElement(F.RiDeleteBin6Line,{onClick:function(){var e;a((e=t.id,function(t){t(k("loading")),t({type:"CHANGE-TODOLIST-ENTITY-STATUS",id:e,status:"loading"}),Q(e).then((function(n){t(function(e){return{type:"REMOVE_TODOLIST",id:e}}(e)),t(k("succeeded"))}))}))},className:se.a.deleteButton}),o.a.createElement(B.a.Title,{style:{textAlign:"left"}},o.a.createElement(z,{title:t.title,onChangeText:c}))),o.a.createElement(me,{label:"Add task",addItem:l,withButton:!0}),o.a.createElement(B.a.Body,null,i.map((function(e){return o.a.createElement(le,{task:e,key:e.id})}))),o.a.createElement(B.a.Footer,{className:se.a.cardFooter},o.a.createElement(m.a,{variant:"outline-primary",size:"sm",onClick:u},"all"),o.a.createElement(m.a,{variant:"outline-primary",size:"sm",onClick:s},"active"),o.a.createElement(m.a,{variant:"outline-primary",size:"sm",onClick:d},"completed"))))})),he=function(){var e=h(),t=Object(l.m)(),n=E((function(e){return e.todolists})),a=E((function(e){return e.auth.isLoggedIn}));return!a&&t("/login"),Object(r.useEffect)((function(){a&&e(fe())}),[e,a]),Object(r.useEffect)((function(){e(fe())}),[e]),{todolists:n,addTodolist:Object(r.useCallback)((function(t){e(function(e){return function(t){t(k("loading")),$(e).then((function(e){t({type:"ADD_TODOLIST",todolist:e.data.data.item}),t(k("succeeded"))}))}}(t))}),[e]),changeTodolistFilter:Object(r.useCallback)((function(t,n){e(function(e,t){return{type:"CHANGE_TODOLIST_FILTER",id:e,filter:t}}(t,n))}),[e])}},Ee=function(){var e=he(),t=e.todolists,n=e.addTodolist,a=e.changeTodolistFilter;return o.a.createElement("div",null,o.a.createElement("header",{className:"AppHeader"},o.a.createElement(me,{label:"Add todolist",addItem:n})),o.a.createElement("div",{className:"App"},t.map((function(e){return o.a.createElement(pe,{todolist:e,changeTodolistFilter:a,key:e.id})}))))},ve=function(){return o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/",element:o.a.createElement(Ee,null)}),o.a.createElement(l.b,{path:"login",element:o.a.createElement(G,null)}),o.a.createElement(l.b,{path:"*",element:o.a.createElement(l.a,{to:"/404"})}),o.a.createElement(l.b,{path:"/404",element:o.a.createElement("h1",null,"404: PAGE NOT FOUND")}))},be=n(112),ge=n(113),ye=n(115),Oe=n(111),Te=function(){var e=E((function(e){return e.auth.isLoggedIn})),t=h();return o.a.createElement(ye.a,{bg:"dark",variant:"dark",expand:"lg"},o.a.createElement(Oe.a,null,o.a.createElement(ye.a.Brand,{href:"/"},"Todolist App"),e&&o.a.createElement(m.a,{onClick:function(){t((function(e){e(k("loading")),w().then((function(t){t.data.resultCode===a.OK?(e(P(!1)),e(k("succeeded"))):_(t.data,e)})).catch((function(t){C(t,e)}))}))}}," Log out")))};var je=function(){var e=E((function(e){return e.app.status})),t=E((function(e){return e.app.isInitialized})),n=h();return Object(r.useEffect)((function(){n((function(e){e(k("loading")),e(I(!1)),j().then((function(t){t.data.resultCode===a.OK?(e(P(!0)),e(k("succeeded"))):_(t.data,e)})).catch((function(t){return C(t,e)})).finally((function(){return e(I(!0))}))}))}),[n]),t?o.a.createElement("div",null,o.a.createElement(Te,null),"loading"===e&&o.a.createElement(ge.a,{animated:!0,now:100}),o.a.createElement(ve,null)):o.a.createElement("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"}},o.a.createElement(be.a,{animation:"border",variant:"primary"}))},we=(n(106),n(66)),Le=n(84),Se=Object(we.b)({todolists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODOLIST":return[Object(u.a)(Object(u.a)({},t.todolist),{},{filter:"all",entityStatus:"idle"})].concat(Object(Z.a)(e));case"REMOVE_TODOLIST":return e.filter((function(e){return e.id!==t.id}));case"CHANGE_TODOLIST_TITLE":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{title:t.title}):e}));case"CHANGE_TODOLIST_FILTER":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{filter:t.filter}):e}));case"CHANGE-TODOLIST-ENTITY-STATUS":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{entityStatus:t.status}):e}));case"SET_TODOLISTS":return t.todolists.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{filter:"all",entityStatus:"idle"})}));default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOVE_TASK":return Object(u.a)(Object(u.a)({},e),{},Object(J.a)({},t.todolistID,e[t.todolistID].filter((function(e){return e.id!==t.taskID}))));case"ADD_TASK":return Object(u.a)(Object(u.a)({},e),{},Object(J.a)({},t.task.todoListId,[t.task].concat(Object(Z.a)(e[t.task.todoListId]))));case"ADD_TODOLIST":return Object(u.a)(Object(u.a)({},e),{},Object(J.a)({},t.todolist.id,[]));case"REMOVE_TODOLIST":var n=Object(u.a)({},e);return delete n[t.id],n;case"SET_TODOLISTS":var a=Object(u.a)({},e);return t.todolists.forEach((function(e){a[e.id]=[]})),a;case"SET_TASKS":return Object(u.a)(Object(u.a)({},e),{},Object(J.a)({},t.todolistID,t.tasks));case"UPDATE_TASK":return Object(u.a)(Object(u.a)({},e),{},Object(J.a)({},t.task.todoListId,e[t.task.todoListId].map((function(e){return e.id===t.task.id?Object(u.a)({},t.task):e}))));default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case"APP/SET-ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:t.error});case"APP/SET-INITIALIZED":return Object(u.a)(Object(u.a)({},e),{},{isInitialized:t.isInitialized});default:return Object(u.a)({},e)}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:t.value});default:return e}}}),ke=Object(we.c)(Se,Object(we.a)(Le.a)),Ie=n(39);c.a.render(o.a.createElement(Ie.a,null,o.a.createElement(p.a,{store:ke},o.a.createElement(je,null))),document.getElementById("root"))},46:function(e,t,n){e.exports={error_message:"Login_error_message__1y_Nd"}},64:function(e,t,n){e.exports={accHeader:"Task_accHeader__20Eze",deleteButton:"Task_deleteButton__2svut",addedDate:"Task_addedDate__A5RKq"}},65:function(e,t,n){e.exports={container:"Todolist_container__3GBGW",deleteButton:"Todolist_deleteButton__1A7B9",cardFooter:"Todolist_cardFooter__3sjJA"}},85:function(e,t,n){e.exports=n(107)},93:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.46e1ea38.chunk.js.map